[%# The contents of this file are subject to the Mozilla Public
  # License Version 1.1 (the "License"); you may not use this file
  # except in compliance with the License. You may obtain a copy of
  # the License at http://www.mozilla.org/MPL/
  #
  # Software distributed under the License is distributed on an "AS
  # IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
  # implied. See the License for the specific language governing
  # rights and limitations under the License.
  #
  # The Original Code is the VCS Bugzilla Extension.
  #
  # The Initial Developer of the Original Code is Red Hat, Inc.
  # Portions created by the Initial Developer are Copyright (C) 2010
  # the Initial Developer. All Rights Reserved.
  #
  # Contributor(s): 
  #   Max Kanat-Alexander <mkanat@everythingsolved.com>
  #%]

<ul>
  [% FOREACH commit = bug.vcs_commits %]
    <li class="vcs_commit_row">[% PROCESS format_commit %]</li>
  [% END %]
</ul>

[% BLOCK format_commit %]
  [% commit FILTER commit_link %]
  by
  [%+ IF commit.author.match('@') AND user.id %]
    <a href="mailto:[% commit.author FILTER uri %]">
  [% END %]
  [% commit.author FILTER email %]
  [% '</a>' IF commit.author.match('@') %]
  at [% commit.commit_time FILTER time %]
[% END %]